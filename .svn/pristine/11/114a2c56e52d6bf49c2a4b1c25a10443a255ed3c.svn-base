/*! jQuery Validation Plugin - v1.14.0 - 6/30/2015
 * http://jqueryvalidation.org/
 * Copyright (c) 2015 Jörn Zaefferer; Licensed MIT */
! function(a) {
	"function" == typeof define && define.amd ? define(["jquery", "../jquery.validate.min"], a) : a(jQuery)
}(function(a) {
	a.extend(a.validator.messages, {
		required: "这是必填字段",
		remote: "请修正此字段",
		email: "请输入有效的电子邮件地址",
		url: "请输入有效的网址",
		date: "请输入有效的日期",
		dateISO: "请输入有效的日期 (YYYY-MM-DD)",
		number: "请输入有效的数字",
		digits: "只能输入数字",
		creditcard: "请输入有效的信用卡号码",
		equalTo: "你的输入不相同",
		extension: "请输入有效的后缀",
		maxlength: a.validator.format("最多可以输入 {0} 个字符"),
		minlength: a.validator.format("最少要输入 {0} 个字符"),
		rangelength: a.validator.format("请输入长度在 {0} 到 {1} 之间的字符串"),
		range: a.validator.format("请输入范围在 {0} 到 {1} 之间的数值"),
		max: a.validator.format("请输入不大于 {0} 的数值"),
		min: a.validator.format("请输入不小于 {0} 的数值")
	})
});

// 字符验证       
$.validator.addMethod("stringCheck", function(value, element) {
	return this.optional(element) || /^[\u0391-\uFFE5\w]+$/.test(value);
}, "只能包括中文字、英文字母、数字和下划线");

// 中文字两个字节       
$.validator.addMethod("byteRangeLength", function(value, element, param) {
	var length = value.length;
	for (var i = 0; i < value.length; i++) {
		if (value.charCodeAt(i) > 127) {
			length++;
		}
	}
	return this.optional(element) || (length >= param[0] && length <= param[1]);
}, "请确保输入的值在3-15个字节之间(一个中文字算2个字节)");

// 身份证号码验证       
$.validator.addMethod("isIdCardNo", function(value, element) {
	return this.optional(element) || isIdCardNo(value);
}, "请正确输入您的身份证号码");

// 手机号码验证       
$.validator.addMethod("isMobile", function(value, element) {
	var length = value.length;
	var mobile = /^(1[3|4|5|7|8])+\d{9}?$/;
	return this.optional(element) || (length == 11 && mobile.test(value));
}, "请正确填写您的手机号码");

// 电话号码验证       
$.validator.addMethod("isTel", function(value, element) {
	var tel = /^\d{3,4}-?\d{7,9}$/; //电话号码格式010-12345678   
	return this.optional(element) || (tel.test(value));
}, "请正确填写您的电话号码");

// 联系电话(手机/电话皆可)验证   
$.validator.addMethod("isPhone", function(value, element) {
	var length = value.length;
	var mobile = /^(((13[0-9]{1})|(15[0-9]{1}))+\d{8})$/;
	var tel = /^\d{3,4}-?\d{7,9}$/;
	return this.optional(element) || (tel.test(value) || mobile.test(value));

}, "请正确填写您的联系电话");

$.validator.addMethod("chinese", function(value, element) {
	var length = value.length;
	var chinese = /^[\u0391-\uFFE5]+$/;
	return this.optional(element) || (length <= 4 && chinese.test(value));
}, "请正确填写中文姓名");
$.validator.addMethod("checkPic", function(value, element) {
	var filepath = $(element).val();
	//获得上传文件名
	var fileArr = filepath.split(",");
	var fileTArr = fileArr[fileArr.length - 1].toLowerCase().split(".");
	var filetype = fileTArr[fileTArr.length - 1];
	console.log(filetype);
	//切割出后缀文件名
	if (filetype === "jpg" || filetype === "gif" || filetype === "jpeg" || filetype === "png" || filetype === "") {
		return true;
	} else {
		return false;
	}
}, "上传图片格式不适合");