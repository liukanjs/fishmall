(function($) {
	var dmask = '<div class="dialog-mask"></div>';
	var dmain = "<div class=\"dialog-win\" style=\"position: fixed; width: 80%; z-index: 11; left: 10%; top: 25%;\"><div class=\"dialog m open\">	</div></div>";
	//弹窗
	$.fn.appalert = function(options) {
		var defaults = {
			tit: "狂野钓鱼",
			msg: "恭喜！操作已完成！",
			btn: "确认",
			cbk: function() {}
		};
		var options = $.extend(defaults, options);

		//	plus.nativeUI.alert(options.msg, options.cbk, options.tit, options.btn);

		var dbody = "<div class=\"dialog-body\"><div class=\"text-center text-big height-big text-bold\">" + options.tit + "</div><div class=\"text-center height\">" + options.msg + "</div></div>";
		var dfoot = "<div class=\"dialog-foot text-center \"><a class=\"button dialog-close\">" + options.btn + "</a></div>";
		$('body').append(dmask + dmain);
		$('body').find('.dialog').append(dbody + dfoot);
		var uimask = $('body').find('.dialog-mask');
		var uimain = $('body').find('.dialog-win');
		var uiclose = uimain.find('.dialog-close');
		uimask.click(function() {
			uimask.remove();
			uimain.remove();
		});
		uiclose.click(function() {
			uimask.remove();
			uimain.remove();
			options.cbk();
		});

		return this;
	};

	//弹窗选择
	$.fn.appconfirm = function(options) {
		var defaults = {
			tit: "狂野钓鱼",
			msg: "您，是否继续？",
			bts: ["确认", "取消"],
			yes: function() {},
			no: function() {}
		};
		var options = $.extend(defaults, options);
		/*plus.nativeUI.confirm(options.msg, function(e) {
			if (e.index == 0) {
				options.yes();
			} else {
				options.no();
			}
		}, options.tit, options.bts);*/
		//options.bts.split(",")
		var dbody = "<div class=\"dialog-body\"><div class=\"text-center text-big height-big text-bold\">" + options.tit + "</div><div class=\"text-center height\">" + options.msg + "</div></div>";
		var dfoot = "<div class=\"dialog-foot text-center \"><a class=\"button dialog-close\">" + options.bts[0] + "</a><a class=\"button dialog-done\">" + options.bts[1] + "</a></div>";
		$('body').append(dmask + dmain);
		$('body').find('.dialog').append(dbody + dfoot);
		var uimask = $('body').find('.dialog-mask');
		var uimain = $('body').find('.dialog-win');
		var uiclose = uimain.find('.dialog-close');
		var uidone = uimain.find('.dialog-done');
		uimask.click(function() {
			uimask.remove();
			uimain.remove();
		});
		$('.dialog-foot>a').eq(0).click(function() {
			uimask.remove();
			uimain.remove();
			options.yes();
		});
		$('.dialog-foot>a').eq(1).click(function() {
			uimask.remove();
			uimain.remove();
			options.no();
		});


		return this;
	};

	//提醒/提示
	$.fn.apptip = function(options) {
		var defaults = {
			msg: "网络连接失败，请检查网络...",
			time: "long" //可选值为"long"、"short"，值为"long"时显示时间约为3.5s，值为"short"时显示时间约为2s，未设置时默认值为"short"。
		};
		var options = $.extend(defaults, options);
		/*plus.nativeUI.toast(options.msg, {
			duration: options.time
		});*/
		var dbody = "<div class=\"dialog-body\"><div class=\"text-center text-default\">" + options.msg + "</div></div>";
		$('body').append(dmask + dmain);
		$('body').find('.dialog').append(dbody);
		var uimask = $('body').find('.dialog-mask');
		var uimain = $('body').find('.dialog-win');
		uimain.css('top', '75%');
		$('.dialog-mask').css({
			'background': 'rgba(0,0,0,0.0)'
		});
		$('.dialog').css({
			'background': 'rgba(0,0,0,0.7)',
			'color': '#fff',
			'border-radius': '5px',
			'border-color': 'rgba(0,0,0,0.7)'
		});
		uimask.click(function() {
			uimask.remove();
			uimain.remove();
		});
		setTimeout(function() {
			uimask.remove();
			uimain.fadeOut(300);
		}, 1500);
		setTimeout(function() {
			uimain.remove();
		}, 1800);

		return this;
	}

	//弹窗输入
	$.fn.appprompt = function(options) {
		var defaults = {
			tit: "狂野钓鱼",
			msg: "请输入",
			bts: ["确认", "取消"],
			yes: function() {},
			no: function() {},
		};
		var options = $.extend(defaults, options);
		/*plus.nativeUI.prompt(options.msg, function(e) {
			if (e.index == 0) {
				options.yes(e.value);
			} else {
				options.no(e.value);
			}
		}, options.tit, options.bts);*/

		var dbody = "<div class=\"dialog-body\"><div class=\"text-center text-big height-big text-bold\">" + options.tit + "</div><div class=\"text-center height\">" + options.msg + "</div><div class=\"text-center height\"><input type=\"text\" class=\"input radius-none\"></div></div>";
		var dfoot = "<div class=\"dialog-foot text-center \"><a class=\"button dialog-close\">" + options.bts[0] + "</a><a class=\"button dialog-done\">" + options.bts[1] + "</a></div>";
		$('body').append(dmask + dmain);
		$('body').find('.dialog').append(dbody + dfoot);
		var uimask = $('body').find('.dialog-mask');
		var uimain = $('body').find('.dialog-win');
		var uiclose = uimain.find('.dialog-close');
		var uidone = uimain.find('.dialog-done');
		uimask.click(function() {
			uimask.remove();
			uimain.remove();
		});
		$('.dialog-foot>a').eq(0).click(function(e) {
			e.value = uimain.find('input').val();
			uimask.remove();
			uimain.remove();
			options.yes(e.value);
		});
		$('.dialog-foot>a').eq(1).click(function(e) {
			e.value = uimain.find('input').val();
			uimask.remove();
			uimain.remove();
			options.no(e.value);
		});

		return this;
	};

	//加载窗口
	$.fn.apploading = function(options) {
		var defaults = {
			//定义的参数属性
			msg: "数据加载中...",
			time: 30000,
			autoload: true
		};
		var options = $.extend(defaults, options);

		var dbody = "<div class=\"dialog-body\"><div class=\"text-center text-default\"><span class=\"icon-spinner text-big icon-spin\"></span>\n" + options.msg + "</div></div>";
		$('body').append(dmask + dmain);
		$('body').find('.dialog').append(dbody);
		var uimask = $('body').find('.dialog-mask');
		var uimain = $('body').find('.dialog-win');
		uimain.css('top', '75%');
		$('.dialog-mask').css({
			'background': 'rgba(0,0,0,0.0)'
		});
		$('.dialog').css({
			'background': 'rgba(0,0,0,0.7)',
			'color': '#fff',
			'border-radius': '5px',
			'border-color': 'rgba(0,0,0,0.7)'
		});
		uimask.click(function() {
			uimask.remove();
			uimain.remove();
		});
		if (options.autoload) {
			setTimeout(function() {
				uimask.remove();
				uimain.fadeOut(300);
			}, 2000);
			setTimeout(function() {
				uimain.remove();
			}, 2300);
		}else{
			setTimeout(function() {
				uimask.remove();
				uimain.fadeOut(300);
			}, options.time);
			setTimeout(function() {
				uimain.remove();
			}, options.time+300);
		}

		return this;
	};

	//关闭加载窗口
	$.fn.appcloseload = function(options) {
		var defaults = {
			//定义的参数属性
		};
		var options = $.extend(defaults, options);
		/*plus.nativeUI.closeWaiting();*/

		var uimask = $('body').find('.dialog-mask');
		var uimain = $('body').find('.dialog-win');
		uimask.remove();
		uimain.remove();


		return this;
	};

	//弹窗多选
	$.fn.appselect = function(options) {
		var defaults = {
			//定义的参数属性
			list: [{
				title: "选项1",
				v:"1"
			}, {
				title: "选项2",
				v:"2"
			}, {
				title: "选项3",
				v:"3"
			}, {
				title: "选项4",
				v:"4"
			}],
			selectname: "checkname",
			msg: "请选择您需要选择的选项",
			type: "radio",
			tit: "请选择",
			bts: ["确认", "取消"],
			yes: function() {},
			no: function() {},
		};
		var options = $.extend(defaults, options);
		var bts = options.list;
		var st = {
			title: options.tit,
			cancel: options.cancel,
			buttons: bts
		};

		/*plus.nativeUI.actionSheet(st,
			function(e) {
				if (e.index > 0) {
					options.cbk(options.list[e.index - 1].title);
				} else {
					console.log("取消操作");
				}
			}
		);*/
		var dbody = "<div class=\"dialog-body\"><div class=\"text-center text-big height-big text-bold\">" + options.tit + "</div><div class=\"text-center height\">" + options.msg + "</div><div class=\"text-left height dialog-select\"><form onsubmit=\"return false\" id=\"diageForm\"></form></div></div>";
		var dfoot = "<div class=\"dialog-foot text-center \"><a class=\"button dialog-close\">" + options.bts[0] + "</a><a class=\"button dialog-done\">" + options.bts[1] + "</a></div>";
		var _input = '<input type=\"text\" class=\"input radius-none\">';

		var _checkboxlist = function(len, checktype) {
			var checkboxlist = '';
			var _checkbox;
			var len = options.list.length;
			var checktype = options.type;
			for (var i = 0; i < len; i++) {
				_checkbox = '<div class="height"><input type="' + checktype + '" name="' + options.selectname + '" value="' + options.list[i].v + '" class="va-m"><span class="text-gray">' + options.list[i].title + '</span></div>';
				checkboxlist += _checkbox;
				console.log(options.list[i]);
			}
			return checkboxlist;
		};


		$('body').append(dmask + dmain);
		$('body').find('.dialog').append(dbody + dfoot);
		$('body').find('#diageForm').append(_checkboxlist());
		var uimask = $('body').find('.dialog-mask');
		var uimain = $('body').find('.dialog-win');
		var uiclose = uimain.find('.dialog-close');
		var uidone = uimain.find('.dialog-done');
		uimask.click(function() {
			uimask.remove();
			uimain.remove();
		});
		$('.dialog-foot>a').eq(0).click(function(e) {
			e.value = $('#diageForm').serializeArray();
			uimask.remove();
			uimain.remove();
			if (!e.value) {
				e.value = false;
			};
			options.yes(e.value);
		});
		$('.dialog-foot>a').eq(1).click(function(e) {
			e.value = uimain.find('input:checked').val();
			uimask.remove();
			uimain.remove();
			if (!e.value) {
				e.value = false;
			};
			options.no(e.value);
		});

		return this;
	};

})(jQuery)